<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Legal Aid Chatbot (Demo)</title>

<style>
    body { font-family: Arial; background:#111; color:#eee; padding: 30px; }
    #chat-box { max-width:600px; margin:auto; padding:20px; background:#222; border-radius:8px; }
    .msg { margin:10px 0; padding:10px; border-radius:6px; }
    .user { background:#0a84ff33; text-align:right; }
    .bot  { background:#23c55233; text-align:left; }
    textarea { width:100%; padding:10px; margin-top:10px; background:#333; color:white; border:1px solid #444; border-radius:6px; }
    button { margin-top:10px; padding:10px 15px; background:#23c552; color:black; border:none; border-radius:6px; cursor:pointer; font-weight:bold; }
</style>
</head>

<body>

<h2>⚖️ Legal Aid Assistant - Test UI</h2>

<div id="chat-box">
    <div id="messages"></div>

    <textarea id="input" placeholder="Type your question..."></textarea>
    <button onclick="sendMessage()">Send</button>
</div>

<script>
const API_URL = "http://127.0.0.1:8000/chat";

async function sendMessage() {
    const inputEl = document.getElementById("input");
    const text = inputEl.value.trim();
    if (!text) return;

    // show user message
    document.getElementById("messages").innerHTML += `
        <div class="msg user"><b>You:</b> ${text}</div>
    `;

    inputEl.value = "";

    // send request to FastAPI
    const response = await fetch(API_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ user_query: text })
    });

    const data = await response.json();

    // Show bot reply
    document.getElementById("messages").innerHTML += `
        <div class="msg bot"><b>Bot:</b> ${data.response}</div>
    `;
}
</script>

</body>
</html>
